"use strict";
'use client';
Object.defineProperty(exports, "__esModule", { value: true });
exports.Portal = void 0;
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
const React = tslib_1.__importStar(require("react"));
const react_dom_1 = tslib_1.__importDefault(require("react-dom"));
const hooks_1 = require("../../hooks");
const theme_1 = require("../theme");
const useThemeContext_1 = require("../theme/useThemeContext");
const cn_1 = require("../utils/cn");
require("./Portal.css");
const b = (0, cn_1.block)('portal');
function Portal({ container, children, disablePortal }) {
    const defaultContainer = (0, hooks_1.usePortalContainer)();
    const { scoped } = (0, useThemeContext_1.useThemeContext)();
    const containerNode = container !== null && container !== void 0 ? container : defaultContainer;
    if (disablePortal) {
        return (0, jsx_runtime_1.jsx)(React.Fragment, { children: children });
    }
    return containerNode
        ? react_dom_1.default.createPortal(scoped ? ((0, jsx_runtime_1.jsx)(theme_1.ThemeProvider, { rootClassName: b('theme-wrapper'), scoped: true, children: children })) : (children), containerNode)
        : null;
}
exports.Portal = Portal;
