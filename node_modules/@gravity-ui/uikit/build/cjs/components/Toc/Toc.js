"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Toc = void 0;
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
const React = tslib_1.__importStar(require("react"));
const cn_1 = require("../utils/cn");
const TocItem_1 = require("./TocItem/TocItem");
require("./Toc.css");
const b = (0, cn_1.block)('toc');
exports.Toc = React.forwardRef(function Toc(props, ref) {
    const { value: activeValue, items, className, onUpdate, onItemClick, qa } = props;
    return ((0, jsx_runtime_1.jsx)("nav", { className: b(null, className), ref: ref, "data-qa": qa, children: (0, jsx_runtime_1.jsx)("ul", { className: b('sections'), children: items.map(({ value, content, href, items: childrenItems }) => ((0, jsx_runtime_1.jsxs)("li", { "aria-current": activeValue === value, children: [(0, jsx_runtime_1.jsx)(TocItem_1.TocItem, { content: content, value: value, href: href, active: activeValue === value, onClick: onUpdate, onItemClick: onItemClick }), childrenItems && childrenItems.length > 0 && ((0, jsx_runtime_1.jsx)("ul", { className: b('subsections'), children: childrenItems === null || childrenItems === void 0 ? void 0 : childrenItems.map(({ value: childrenValue, content: childrenContent, href: childrenHref, }) => ((0, jsx_runtime_1.jsx)("li", { "aria-current": activeValue === childrenValue, children: (0, jsx_runtime_1.jsx)(TocItem_1.TocItem, { content: childrenContent, value: childrenValue, href: childrenHref, childItem: true, active: activeValue === childrenValue, onClick: onUpdate, onItemClick: onItemClick }) }, childrenValue !== null && childrenValue !== void 0 ? childrenValue : childrenHref))) }))] }, value !== null && value !== void 0 ? value : href))) }) }));
});
