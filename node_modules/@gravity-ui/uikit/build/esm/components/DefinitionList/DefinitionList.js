import { jsx as _jsx } from "react/jsx-runtime";
import * as React from 'react';
import { isOfType } from '../utils/isOfType';
import { warnOnce } from '../utils/warn';
import { DefinitionListProvider } from './components/DefinitionListContext';
import { DefinitionListItem } from './components/DefinitionListItem';
import { b } from './constants';
import './DefinitionList.css';
export function DefinitionList({ responsive, direction = 'horizontal', nameMaxWidth, contentMaxWidth, className, children, qa, }) {
    const normalizedChildren = prepareChildren(children);
    return (_jsx(DefinitionListProvider, { direction: direction, nameMaxWidth: nameMaxWidth, contentMaxWidth: contentMaxWidth, children: _jsx("dl", { className: b({ responsive, vertical: direction === 'vertical' }, className), "data-qa": qa, children: normalizedChildren }) }));
}
const isDefinitionListItem = isOfType(DefinitionListItem);
function prepareChildren(children) {
    const items = React.Children.toArray(children);
    const normalizedItems = [];
    for (const item of items) {
        const isItem = isDefinitionListItem(item);
        if (isItem) {
            normalizedItems.push(item);
        }
        else {
            warnOnce('[DefinitionList] Only <DefinitionList.Item> components is allowed as children');
        }
    }
    return normalizedItems;
}
DefinitionList.Item = DefinitionListItem;
DefinitionList.displayName = 'DefinitionList';
