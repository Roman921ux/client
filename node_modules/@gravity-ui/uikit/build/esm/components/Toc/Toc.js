import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import * as React from 'react';
import { block } from '../utils/cn';
import { TocItem } from './TocItem/TocItem';
import './Toc.css';
const b = block('toc');
export const Toc = React.forwardRef(function Toc(props, ref) {
    const { value: activeValue, items, className, onUpdate, onItemClick, qa } = props;
    return (_jsx("nav", { className: b(null, className), ref: ref, "data-qa": qa, children: _jsx("ul", { className: b('sections'), children: items.map(({ value, content, href, items: childrenItems }) => (_jsxs("li", { "aria-current": activeValue === value, children: [_jsx(TocItem, { content: content, value: value, href: href, active: activeValue === value, onClick: onUpdate, onItemClick: onItemClick }), childrenItems && childrenItems.length > 0 && (_jsx("ul", { className: b('subsections'), children: childrenItems === null || childrenItems === void 0 ? void 0 : childrenItems.map(({ value: childrenValue, content: childrenContent, href: childrenHref, }) => (_jsx("li", { "aria-current": activeValue === childrenValue, children: _jsx(TocItem, { content: childrenContent, value: childrenValue, href: childrenHref, childItem: true, active: activeValue === childrenValue, onClick: onUpdate, onItemClick: onItemClick }) }, childrenValue !== null && childrenValue !== void 0 ? childrenValue : childrenHref))) }))] }, value !== null && value !== void 0 ? value : href))) }) }));
});
